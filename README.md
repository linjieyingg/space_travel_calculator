# Code Repository Summary

*Auto-generated by Gemini AI*


**Repository:** linjieyingg/space_travel_calculator

**Branch:** main

**Files Analyzed:** 18

**Last Updated:** 2025-12-09 03:33:01

---


## `celestial_data.py`

This module `celestial_data.py` acts as a central repository for astrophysical data and orbital elements for celestial bodies within the solar system, intended for the `space_travel_calculator` application. It also re-exports universal physical constants for consistent use across the application.

### Key Components

*   **Constants**:
    *   `GRAVITATIONAL_CONSTANT`: Re-exports the gravitational constant from the `constants` module.
    *   `SPEED_OF_LIGHT`: Re-exports the speed of light from the `constants` module.
    *   `AU_TO_METERS`: Defines the conversion factor from Astronomical Units to meters.
*   **`CELESTIAL_BODIES_DATA`**:
    *   A dictionary that stores comprehensive astrophysical parameters (mass, radius, gravitational parameter, semi-major axis, orbital period, eccentricity, inclination, longitude of ascending node, argument of periapsis, and mean anomaly at J2000 epoch) for various celestial bodies including the Sun, planets, and Earth's Moon.
    *   **Inputs**: Accessed by uppercase string keys representing celestial body names (e.g., "EARTH").
    *   **Outputs**: Returns a dictionary containing all defined parameters for the specified body.
*   **`get_celestial_body_data(body_name: str)`**:
    *   A function to retrieve the data for a specific celestial body.
    *   **Inputs**: `body_name` (a case-insensitive string representing the name of the celestial body).
    *   **Outputs**: Returns a dictionary of the requested body's data if found, otherwise `None`.

### Dependencies

*   `math`: Imported (specifically for `fabs()`, though not explicitly used in the provided snippet).
*   `constants`: Imports `G_GRAVITATIONAL` and `C_LIGHT_MPS`.

---


## `constants.py`

This module, `constants.py`, serves as a central repository for universal physical and scientific constants crucial for space travel calculations within the `space_travel_calculator` application, ensuring data consistency and maintainability.

### Key Components:

*   **Universal Physical Constants**:
    *   `C_LIGHT_MPS`: Represents the speed of light in a vacuum.
        *   **Value**: `299792458.0` m/s.
    *   `G_GRAVITATIONAL`: Represents the Gravitational Constant.
        *   **Value**: `6.67430e-11` m^3 kg^-1 s^-2.
*   **Aliases**:
    *   `GRAVITATIONAL_CONSTANT`: An alias for `G_GRAVITATIONAL`, providing backward compatibility for modules expecting this specific name.
        *   **Value**: Same as `G_GRAVITATIONAL`.
*   **Commented-out Examples**:
    *   Includes examples like `MU_SUN` (Sun's standard gravitational parameter), `AU_TO_METERS` (Astronomical Unit in meters), and `EARTH_RADIUS_METERS` (Average Earth radius) as placeholders for future expansion.

### Dependencies:

*   This file has no external imports or dependencies.

---


## `generated/2048_game.py`

This Python file implements the classic 2048 puzzle game, allowing a player to interactively play the game in the console.

### Key Components:

*   **`Game2048` Class**: Manages the entire game state and logic.
    *   **`__init__(self)`**:
        *   **Inputs**: None.
        *   **Outputs/Side Effects**: Initializes a 4x4 grid with two random tiles, sets initial score to 0, and `won`/`game_over` flags to `False`.
    *   **`add_random_tile(self)`**:
        *   **Inputs**: None.
        *   **Outputs/Side Effects**: Finds an empty cell and places a '2' (90% chance) or '4' (10% chance) into it. Returns `True` if a tile was added, `False` otherwise.
    *   **`display_board(self)`**:
        *   **Inputs**: None.
        *   **Outputs/Side Effects**: Clears the console and prints the current game board and score in a formatted way.
    *   **`_get_row_view(self, r)` / `_set_row_view(self, r, new_row)`**:
        *   **Inputs**: `r` (row index), `new_row` (list of integers).
        *   **Outputs/Side Effects**: Get or set a specific row of the grid.
    *   **`_get_col_view(self, c)` / `_set_col_view(self, c, new_col)`**:
        *   **Inputs**: `c` (column index), `new_col` (list of integers).
        *   **Outputs/Side Effects**: Get or set a specific column of the grid.
    *   **`_shift_and_merge(self, line)`**:
        *   **Inputs**: `line` (a list of 4 integers representing a row or column).
        *   **Outputs**: `final_line` (the processed list after shifting and merging), `changed` (boolean indicating if the line changed).
        *   **Side Effects**: Updates `self.score` and sets `self.won` to `True` if 2048 is reached. This is the core logic for combining tiles.
    *   **`move(self, direction)`**:
        *   **Inputs**: `direction` (string: 'up', 'down', 'left', 'right').
        *   **Outputs**: `moved_happened` (boolean indicating if any tiles moved or merged).
        *   **Side Effects**: Applies `_shift_and_merge` to all relevant rows/columns based on direction, updates the grid, calls `add_random_tile` if a move occurred, and calls `check_game_over`.
    *   **`check_game_over(self)`**:
        *   **Inputs**: None.
        *   **Outputs**: Boolean (`True` if the game is over, `False` otherwise).
        *   **Side Effects**: Updates `self.game_over` flag based on whether there are empty cells or possible merges.

*   **`play_2048()` Function**:
    *   **Inputs**: None.
    *   **Outputs/Side Effects**: Runs the main game loop, handles user input for moves ('w', 'a', 's', 'd', 'q'), displays the board, and prints game-over or win messages.

### Dependencies:

*   **`random`**: Used for generating random tile values (2 or 4) and placing them in random empty cells.
*   **`os`**: Used for clearing the console screen to refresh the game board display.

---


## `generated/change_four_to_five_in_a_row.py`

## Summary of `generated/change_four_to_five_in_a_row.py`

This file provides a utility function to update textual references related to game titles or descriptions. It specifically changes instances of "four in a row" to "five in a row".

### Key Components

*   **Function**: `update_game_reference`
    *   **Inputs**: `text` (a string) - The input text to be processed.
    *   **Outputs**: A string where all occurrences of "four in a row" have been replaced by "five in a row".

### Dependencies

*   None. This file uses only built-in Python string methods.

---


## `generated/count_vowels.py`

### Summary of `generated/count_vowels.py`

This file defines a single Python function designed to count the occurrences of vowels in a given string. It provides a simple, case-insensitive way to determine the total number of 'a', 'e', 'i', 'o', 'u' characters.

### Key Components

*   **Function**: `count_vowels`
    *   **Inputs**: `text` (str) - The input string to be analyzed.
    *   **Outputs**: An `int` representing the total count of vowels found in the string.

### Dependencies

*   None. This file uses only built-in Python features and has no external imports or dependencies.

---


## `generated/four_in_a_row.py`

```markdown
## File Analysis: `generated/four_in_a_row.py`

### Purpose
This Python file implements a command-line based Four-in-a-Row (also known as Connect Four) game. It allows two players to take turns dropping pieces into a grid, aiming to get four of their pieces in a row, column, or diagonal.

### Key Components
*   **`create_board()`**
    *   **Inputs**: None
    *   **Outputs/Side Effects**: Returns a 2D list representing the game board, initialized with 0s for empty slots.
*   **`print_board(board)`**
    *   **Inputs**: `board` (a 2D list representing the current game state).
    *   **Outputs/Side Effects**: Prints a formatted visual representation of the game board to the console, using 'X' for Player 1 and 'O' for Player 2.
*   **`is_valid_location(board, col)`**
    *   **Inputs**: `board` (2D list), `col` (integer column index).
    *   **Outputs/Side Effects**: Returns `True` if the specified column is within bounds and has an empty slot; otherwise, returns `False`.
*   **`get_next_open_row(board, col)`**
    *   **Inputs**: `board` (2D list), `col` (integer column index).
    *   **Outputs/Side Effects**: Returns the 0-indexed row number of the lowest empty slot in the given column.
*   **`drop_piece(board, row, col, piece)`**
    *   **Inputs**: `board` (2D list), `row` (integer row index), `col` (integer column index), `piece` (player identifier, 1 or 2).
    *   **Outputs/Side Effects**: Modifies the `board` by placing the `piece` at the specified `row` and `col`.
*   **`winning_move(board, piece)`**
    *   **Inputs**: `board` (2D list), `piece` (player identifier).
    *   **Outputs/Side Effects**: Returns `True` if the specified `piece` has achieved four consecutive pieces horizontally, vertically, or diagonally; otherwise, returns `False`.
*   **`is_board_full(board)`**
    *   **Inputs**: `board` (2D list).
    *   **Outputs/Side Effects**: Returns `True` if the entire board is filled with pieces (indicating a potential tie); otherwise, returns `False`.
*   **`four_in_a_row_game()`**
    *   **Inputs**: None
    *   **Outputs/Side Effects**: Orchestrates the entire game flow, including initializing the board, handling player turns, validating input, dropping pieces, checking for wins or ties, and printing game status.

### Dependencies
*   **`sys`**: Used for `sys.stdout.flush()` to ensure immediate display of printed output.
```

---


## `generated/tictactoe.py`

```markdown
1.  **Purpose**: This file implements a command-line Tic-Tac-Toe game, allowing two human players (X and O) to take turns marking spaces on a 3x3 board until a win condition is met or the game ends in a draw.

2.  **Key Components**:
    *   `play_tic_tac_toe()`:
        *   Inputs: None.
        *   Outputs or Side Effects: Orchestrates the entire game. It initializes the board, randomly selects the starting player, manages player turns, takes user input for moves, calls helper functions to display the board and check game state, and prints game status (win/draw) and the final game over message to the console.
    *   `display_board(current_board)`:
        *   Inputs: `current_board` (a list of 9 strings representing the board's state).
        *   Outputs or Side Effects: Prints a formatted 3x3 Tic-Tac-Toe board to the console.
    *   `check_win(current_board, player)`:
        *   Inputs: `current_board` (a list of 9 strings), `player` (the symbol 'X' or 'O' to check for a win).
        *   Outputs: Returns `True` if the specified `player` has three of their marks in a row (horizontal, vertical, or diagonal), `False` otherwise.
    *   `check_draw(current_board)`:
        *   Inputs: `current_board` (a list of 9 strings).
        *   Outputs: Returns `True` if there are no empty spaces (' ') left on the board, indicating a draw, `False` otherwise.

3.  **Dependencies**:
    *   `random`: Used to randomly select which player starts the game.
```

---


## `main.py`

This file, `main.py`, serves as the primary entry point for a space travel calculator application. It acts as a placeholder or orchestrator, as the core application logic has been refactored into other modules.

### Key Components

*   **`main()` function**:
    *   **Inputs**: None.
    *   **Outputs/Side Effects**: Prints welcome messages to the console, indicating that the main application logic resides elsewhere.
*   **`if __name__ == "__main__":` block**:
    *   **Inputs**: None (executed when the script is run directly).
    *   **Outputs/Side Effects**: Calls the `main()` function to start the application.
*   **File Header/Docstring**: Contains course information, assignment details (Individual Project, Fall 2024, Author: Jieying Lin), contributor section, and an Academic Integrity Statement.

### Dependencies

*   None. This file does not contain any explicit `import` statements or rely on external libraries.

---


## `src/__init__.py`

*Empty file*

---


## `src/astrophysics/__init__.py`

*Empty file*

---


## `src/astrophysics/orbital_calculations.py`

This Python file, `orbital_calculations.py`, provides core functions for computing orbital parameters and the instantaneous position of celestial bodies in elliptical orbits. It implements solutions for Kepler's equation and converts between different orbital anomalies to determine distances.

### Purpose
This file offers utilities to calculate orbital parameters like eccentric anomaly and true anomaly, and ultimately determine a celestial body's current orbital distance from its primary at a given time using principles of orbital mechanics.

### Key Components

*   **`solve_kepler_equation`**
    *   **Inputs**: `mean_anomaly` (radians), `eccentricity`, `tolerance` (optional), `max_iterations` (optional).
    *   **Outputs**: `eccentric_anomaly` (radians) by solving Kepler's equation using the Newton-Raphson method.
*   **`eccentric_to_true_anomaly`**
    *   **Inputs**: `eccentric_anomaly` (radians), `eccentricity`.
    *   **Outputs**: `true_anomaly` (radians), representing the angle of the body from periapsis.
*   **`calculate_orbital_distance`**
    *   **Inputs**: `body_name` (str), `time_since_periapsis` (seconds).
    *   **Outputs**: The `orbital_distance` (float) in meters from the central body, or `None` if the celestial body data is not found. It relies on fetching data, solving Kepler's equation, and applying orbital geometry.

### Dependencies
*   `math`: For common mathematical operations (e.g., `sin`, `cos`, `atan2`, `fmod`, `sqrt`, `pi`).
*   `typing`: For type hints (`Dict`, `Any`, `Optional`).
*   `..celestial_data`: A relative import to retrieve celestial body data (specifically `get_celestial_body_data` and `GRAVITATIONAL_CONSTANT`, though the constant is not directly used in the provided code).

---


## `src/data/__init__.py`

*Empty file*

---


## `src/propulsion/__init__.py`

*Empty file*

---


## `src/utils/__init__.py`

*Empty file*

---


## `tests/__init__.py`

*Empty file*

---


## `tests/test_celestial_data.py`

This file contains unit tests for the `celestial_data` module. It verifies the correctness of re-exported constants, the functionality and edge cases of data retrieval functions, and the structural integrity of the underlying celestial body data.

### Key Components:

*   **Test Constants Re-exported from celestial_data**:
    *   `test_gravitational_constant_re_export_value()`: Asserts that `GRAVITATIONAL_CONSTANT` from `celestial_data` matches `G_GRAVITATIONAL` from `constants`.
    *   `test_speed_of_light_re_export_value()`: Asserts that `SPEED_OF_LIGHT` from `celestial_data` matches `C_LIGHT_MPS` from `constants`.
    *   **Inputs**: Implicitly uses constants from `celestial_data` and `constants` modules.
    *   **Outputs**: Performs assertions for value and type equality.
*   **Test `get_celestial_body_data` function**:
    *   `test_get_celestial_body_data_valid_body()`: Tests data retrieval for a known body ('Earth'), checking dictionary structure, key presence, and value types.
    *   `test_get_celestial_body_data_case_insensitivity()`: Verifies that body names are handled case-insensitively.
    *   `test_get_celestial_body_data_non_existent_body()`: Asserts `None` is returned for unknown bodies.
    *   `test_get_celestial_body_data_invalid_input_type()`: Asserts `None` is returned for non-string inputs.
    *   `test_get_celestial_body_data_sun_orbital_elements_expected_values()`: Checks specific expected values for 'Sun' (e.g., zero semi-major axis).
    *   **Inputs**: String celestial body names or invalid types.
    *   **Outputs**: Assertions on the returned dictionary's content, type, or `None`.
*   **Test `get_all_solar_system_destinations` function**:
    *   `test_get_all_solar_system_destinations_valid_output()`: Checks that a sorted list of dictionaries (destinations, excluding Earth) is returned with correct structure and sorting.
    *   `test_get_all_solar_system_destinations_earth_data_missing()`: Uses `unittest.mock.patch` to simulate missing Earth data and asserts the function returns `None`.
    *   **Inputs**: None (implicitly calls `get_all_solar_system_destinations`). One test uses mocking to control internal function behavior.
    *   **Outputs**: Assertions on the returned list's content, order, and structure, or `None`.
*   **`test_celestial_bodies_data_integrity()`**:
    *   Performs a loop over `CELESTIAL_BODIES_DATA` to check general structure, required keys (`name`, `mass`, `radius`, `gravitational_parameter_mu`), their types, and non-negative values for all entries.
    *   **Inputs**: Iterates directly through `CELESTIAL_BODIES_DATA`.
    *   **Outputs**: Assertions on the types and values of data within `CELESTIAL_BODIES_DATA`.

### Dependencies:

*   **`pytest`**: Testing framework.
*   **`math`**: (Imported but not directly used in the provided test functions).
*   **`unittest.mock.patch`, `unittest.mock.MagicMock`**: For mocking dependencies in tests.
*   **`celestial_data` (local module)**: Imports `GRAVITATIONAL_CONSTANT`, `SPEED_OF_LIGHT`, `get_celestial_body_data`, `get_all_solar_system_destinations`, and `CELESTIAL_BODIES_DATA`.
*   **`constants` (local module)**: Imports `G_GRAVITATIONAL`, `C_LIGHT_MPS` for comparison against re-exported values.

---


## `tests/test_constants.py`

This file contains unit tests for physical constants defined in a `constants.py` module. It verifies the types and values of these constants and ensures that a deprecated alias for a constant has been removed.

### Key Components

*   `test_gravitational_constant_value_and_type()`
    *   **Inputs**: None (implicitly accesses `G_GRAVITATIONAL` from `constants`).
    *   **Outputs/Side Effects**: Asserts that `G_GRAVITATIONAL` is a float and its value matches `6.67430e-11` within a specified relative tolerance.
*   `test_speed_of_light_value_and_type()`
    *   **Inputs**: None (implicitly accesses `C_LIGHT_MPS` from `constants`).
    *   **Outputs/Side Effects**: Asserts that `C_LIGHT_MPS` is a float and its value matches `299_792_458.0` within a specified relative tolerance.
*   `test_no_deprecated_gravitational_constant_alias()`
    *   **Inputs**: None (implicitly attempts to access a removed attribute `GRAVITATIONAL_CONSTANT` from `constants`).
    *   **Outputs/Side Effects**: Asserts that attempting to access `GRAVITATIONAL_CONSTANT` from the `constants` module raises an `AttributeError`, confirming its removal. Includes module reloading logic using `sys`.

### Dependencies

*   `pytest`
*   `constants` (specifically `G_GRAVITATIONAL`, `C_LIGHT_MPS`)
*   `sys` (used for module manipulation in `test_no_deprecated_gravitational_constant_alias`)

---


## `tests/test_orbital_calculations.py`

This file contains unit tests for the `orbital_calculations` module, using `pytest`. It includes a mock implementation of the `orbital_calculations` module that is used if the real module cannot be imported, ensuring tests can always run. The tests cover the accuracy and error handling of functions for orbital calculations and celestial body distance estimations.

### Key Components:

*   **`MockOrbitalCalculations` class:**
    *   **Purpose:** A fallback mock implementation of the `orbital_calculations` module.
    *   **`solve_keplers_equation(self, mean_anomaly, eccentricity, tolerance, max_iterations)`:**
        *   **Inputs:** `mean_anomaly` (float), `eccentricity` (float), optional `tolerance` (float), `max_iterations` (int).
        *   **Outputs:** `float` (eccentric anomaly); raises `TypeError` or `ValueError` for invalid inputs.
    *   **`calculate_instantaneous_position_magnitude(self, body_name, time_since_epoch, reference_body_name)`:**
        *   **Inputs:** `body_name` (str), `time_since_epoch` (float), optional `reference_body_name` (str).
        *   **Outputs:** `float` (scalar distance) or `None`; raises `TypeError` for invalid inputs.
    *   **`calculate_distance_between_bodies(self, body1_name, body2_name, time_since_epoch)`:**
        *   **Inputs:** `body1_name` (str), `body2_name` (str), `time_since_epoch` (float).
        *   **Outputs:** `float` (distance) or `None`; raises `TypeError` for invalid inputs.
*   **`TestOrbitalCalculations` class:**
    *   **Purpose:** Contains parameterized and specific test methods for the `orbital_calculations` functions.
    *   **`test_solve_keplers_equation_accuracy(...)`:**
        *   **Inputs:** Mean anomaly, eccentricity, expected eccentric anomaly.
        *   **Outputs:** Asserts the calculated eccentric anomaly matches the expected value within tolerance.
    *   **`test_solve_keplers_equation_invalid_inputs(...)`:**
        *   **Inputs:** Invalid mean anomaly or eccentricity, expected error type and message part.
        *   **Outputs:** Asserts the correct `TypeError` or `ValueError` is raised.
    *   **`test_calculate_instantaneous_position_magnitude_valid_inputs(...)`:**
        *   **Inputs:** Body name, time since epoch, expected minimum distance.
        *   **Outputs:** Asserts a float is returned and it's a non-negative distance.
    *   **`test_calculate_instantaneous_position_magnitude_invalid_inputs(...)`:**
        *   **Inputs:** Invalid body name, time, or reference body name, expected error type and message part.
        *   **Outputs:** Asserts the correct `TypeError` is raised.
    *   **`test_calculate_instantaneous_position_magnitude_non_existent_body()`:**
        *   **Inputs:** A non-existent body name.
        *   **Outputs:** Asserts `None` is returned.
    *   **`test_calculate_distance_between_same_bodies()`:**
        *   **Inputs:** Same body names, time.
        *   **Outputs:** Asserts a distance of 0.0 is returned.
    *   **`test_calculate_distance_between_bodies_known_pairs(...)`:**
        *   **Inputs:** Two body names, time, expected rough distance.
        *   **Outputs:** Asserts a float is returned and is close to the expected value.
    *   **`test_calculate_distance_between_bodies_invalid_inputs(...)`:**
        *   **Inputs:** Invalid body names or time, expected error type and message part.
        *   **Outputs:** Asserts the correct `TypeError` is raised.
    *   **`test_calculate_distance_between_bodies_non_existent_pair()`:**
        *   **Inputs:** A pair of bodies not covered by mock logic.
        *   **Outputs:** Asserts `None` is returned.

### Dependencies:

*   `pytest`
*   `math`
*   `unittest.mock.patch`, `unittest.mock.MagicMock`
*   `src.astrophysics.orbital_calculations` (dynamically imported or mocked)
*   `celestial_data` (specifically `get_celestial_body_data`, `GRAVITATIONAL_CONSTANT`)
*   `constants` (specifically `G_GRAVITATIONAL`)

---
